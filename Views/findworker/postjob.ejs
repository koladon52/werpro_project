<%- include("../partials/header")%>
    
<head>
    <% var lon %>
    <% var lat %>
    <% var country %>
    <% var district %>
    <% var postcode %>
    <% var province %>
    <% var subdistrict %>
    <% var aoi %>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="https://api.longdo.com/map/?key=e655c57b1010fe433aa7d6e1a0aeb9e2"></script>
        <script>
           var map;  
           var search;
           var suggest;
          function init() {
              map = new longdo.Map({
              placeholder: document.getElementById('map'),
              ui: longdo.UiComponent.Mobile 
            });
            map.zoom(16, true);
            search = document.getElementById('search');
            suggest = document.getElementById('suggest');
            finalresult = document.getElementById('finalresult');
            map.Search.placeholder(
                document.getElementById('result')
            );
            //When user press an Enter button #search
            
            search.oninput = function() {
                if (search.value.length < 3) {
                    suggest.style.display = 'none';
                    return;
                }
                
                map.Search.suggest(search.value, {
                });
            };
            map.Event.bind('suggest', function(result) {
                if (result.meta.keyword != search.value) return;
                
                suggest.innerHTML = '';
                for (var i = 0, item; item = result.data[i]; ++i) {
                    longdo.Util.append(suggest, 'a', {
                    innerHTML: item.d,
                    href: 'javascript:doSuggest(\'' + item.w + '\')'
                    });
                }
                suggest.style.display = 'flex';
            });
          }
            function rerverseGeocoding() { 
            $.ajax({ 
                    url: "https://api.longdo.com/map/services/address?", 
                    dataType: "json", 
                    type: "GET", 
                    contentType: "application/json", 
                    data: {
                        key: "e655c57b1010fe433aa7d6e1a0aeb9e2",
                        lon: lon,
                        lat: lat
                },
                success: function (results)
                {
                    country = results.country;
                    district = results.district;
                    postcode =results.postcode; 
                    province = results.province;
                    subdistrict = results.subdistrict;
                    aoi = results.aoi;
                    document.getElementById("locate").innerHTML = country+' '+district+' '+subdistrict+' '+province+' '+postcode;
                    document.getElementById("country").value = country;
                    document.getElementById("district").value = district;
                    document.getElementById("postcode").value = postcode;
                    document.getElementById("province").value = province;
                    document.getElementById("subdistrict").value = subdistrict;
                    document.getElementById("aoi").value = aoi;
                    document.getElementById("lon").value = lon;
                    document.getElementById("lat").value = lat;
                    
                },
                error: function (response)
                {
                    console.log(response);
                }
            });
          }

          function doSearch() {
          map.Search.search(search.value, { 
          });
             suggest.style.display = 'none';
             result = map.location();
             lon    = result.lon;
             lat    = result.lat;
             rerverseGeocoding();
          }

          function doSuggest(value) {
            search.value = value;
            doSearch();
          }   
          
        </script>

<!-- </head>
<div class="container">
    <div class="jumbotron" style="margin-top: 5%;margin-bottom: 5%">
    <div style="margin-left :10% ;margin-right: 10%">
    <div class="form">
        <h1 style="text-align: center;"> job appiction form</h1>
        <div>
            <form style="text-align: left;" action="/findworker/postjob" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="username" value="<%= currentUser.username %>">
                    <div class="form-row">
                        <div class="col">
                            <label for="inputname">ชื่อบริษัท/ห้างร้าน</label>
                            <input type="text" class="form-control" placeholder="Company name" name="companyname" value="" required>
                        </div>
                    </div><br>
                    <div class="form-group">
                        <label for="uploadimage">อัพโหลดรูป</label>
                        <input type="file" class="form-control-file"  name="image">
                    </div>  
                    <div class="form-select">
                    <label for="selectTypejob">ประเภทงานที่ต้องการรับสมัคร</label>
                        <select class="form-control" name="jobtype" required>
                            <option>ประเภทงานที่ต้องการสมัคร</option>
                            <option value="งานบ้าน">งานบ้าน</option>
                            <option value="งานครัว">งานครัว</option>
                            <option value="งานช่าง">งานช่าง</option>
                            <option value="งานพี่เลี้ยงเด็ก">งานพี่เลี้ยงเด็ก</option>
                            <option value="งานสอนหนังสือ">งานสอนหนังสือ</option>
                            <option value="งานขาย">งานขาย</option>
                            <option value="งานบริการลูกค้า">งานบริการลูกค้า</option>
                            <option value="งานคลังสินค้า">งานคลังสินค้า</option>
                            <option value="งานธุรการ">งานธุรการ</option>
                            <option value="งานแคชเชียร์">งานแคชเชียร์</option>
                            <option value="งานส่งสินค้า">งานส่งสินค้า</option>
                            <option value="งานขับรถ">งานขับรถ</option>
                            <option value="งานบัญชีและการเงิน">งานบัญชีและการเงิน</option>
                            <option value="งานจัดซื้อ">งานจัดซื้อ</option>
                            <option value="งานก่อสร้าง">งานก่อสร้าง</option>
                            <option value="งานทำความสะอาด">งานทำความสะอาด</option>
                            <option value="งานตัวแทนจำหน่าย">งานตัวแทนจำหน่าย</option>
                            <option value="งานบริการความงาม">งานบริการความงาม</option>
                            <option value="งานรักษาความปลอดภัย">งานรักษาความปลอดภัย</option>
                            <option value="งานถ่ายภาพ">งานถ่ายภาพ</option>
                            <option value="อื่น...">อื่น...</option>
                        </select><br>
                    <label for="selectEmployment">ลักษณะการว่าจ้าง</label>
                        <select class="form-control" name="employmenttype"required>
                            <option>ลักษณะการว่าจ้าง</option>
                                <option >Part time</option>
                                <option >Full time</option>
                                <option >Event</option>
                        </select>
                    </div><br>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="inputposition">ตำแหน่งงาน</label>
                            <input type="text" class="form-control" name="jobpos" placeholder="">
                        </div>
                        <div class="col-md-6 mb-5">
                            <label for="selectTypejob">รายได้ที่คาดว่าจะได้รับ</label>
                            <select class="form-control" name="salary" required>
                                <option></option>
                                <option value="น้อยกว่า 10000 บาท"> น้อยกว่า 10000 บาท</option>
                                <option value="10000-20000 บาท"> 10000-20000 บาท</option>
                                <option value="20000-30000 บาท"> 20000-30000 บาท</option>
                                <option value="30000-40000 บาท"> 30000-40000 บาท</option>
                                <option value="40000-50000 บาท"> 40000-50000 บาท</option>
                                <option value="50000 บาทขึ้นไป"> 50000 บาทขึ้นไป</option>
                            </select>
                        </div>
                    </div>
                    
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <br>
                                <label for="inputDate">ช่วงเวลาที่สะดวกทำงาน</label>
                              </div>
                            <div class="form-group col-md-4">
                                <label for="inputTime">ตั้งแต่</label>
                                <input type="time" class="form-control" id="inputTime" name="starttime" required/>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputTime">ถึง</label>
                                <input type="time" class="form-control" id="inputTime" name="finishtime" required/>
                            </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="inputQualifications">คุณสมบัติของผู้สมัครงาน</label>
                        <input type="text" class="form-control" name="qualti"  style="height:100px" required>
                    </div>
                    <div class="form-group">
                        <label for="inputContact">ช่องทางการติดต่อบริษัท/ห้างร้าน</label>
                        <input type="text" class="form-control" name="contact" placeholder="Facebook,Email,line,เบอร์โทรศัพท์" style="height:100px" required>
                    </div>   
                    
                    <div class="form-group">
                        <label for="inputContact">ที่ตั้งบริษัท/ร้านค้า</label>
                        <input type="text" class="form-control" name="location" placeholder="" style="height:100px" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="uploadapplication">อัพโหลดเอกสารประกอบการสมัคร/เอกสารรายละเอียดเกณฑ์การรับสมัคร</label>
                        <input type="file" class="form-control-file" id="fileapp" name="file" required>
                    </div> 

                    <div class="mapbody">
                        <div id="map"></div>
                        <div id="searchplace">
                          <input id ="search">
                          <div id ="suggest"></div>
                          <a class="btn btn-primary mb-2" onclick="doSearch()">บันทึก</a>
                          <div id="result"></div>
                        </div>
                    </div>
                    <div>
                        <label  >สถานที่ตั้งบริษัท/ร้านตามแผนที่   : </label>
                        <label id="locate"> </locate>
                            <a id="test"></a>
                    </div>
                    
                    <div>
                        <input type="hidden"  id="lon" name="lon" value="">
                        <input type="hidden"  id="lat" name="lat" value="">
                        <input type="hidden"  id="country" name="country" value="">
                        <input type="hidden"  id="district" name="district" value="">
                        <input type="hidden"  id="subdistrict" name="subdistrict" value="">
                        <input type="hidden"  id="province" name="province" value="">
                        <input type="hidden"  id="postcode" name="postcode" value="">
                        <input type="hidden"  id="aoi" name="aoi" value="">
                    </div>                    
                    
                    <div class="button">
                        <button type="submit" class="btn btn-primary mb-2">SUBMIT</button>
                    </div>
            </form>
           
        </div>
    </div>
    </div>
    </div>
</div>

<style>
    html {
      height: 100%;
    }
    body {
      margin: 0px;
      height: 100%;
    }
    .mapbody {
        margin: 0px;
        height: 100%;
        display: flex;
        flex-direction: row;
    }
    #map {
      height: 400px;
      flex: 4;
    }
    #searchplace{
        flex : 2
    }

    #result {
        height: 400px;
        overflow-y: scroll;
    }
    #suggest {
        position: absolute;
        display: none;
        background-color: white;
        border: 1px solid #000000;
        padding: 4px;
        flex-direction: column;
    }
    </style> --> 
    <head>
        <link rel="stylesheet" href="/css/resume.css">
        <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
        <!-- <div class="roof">
          <img src="../images/roof1.png" alt="roof-form" width="900" height="190"/>  
        </div> -->
    </head>

    <div class="container col-xs-6 col-lg-7">
        <div class="findjob-form">
            <div class="text-center pt-5">
                <img src="../../images/logo.png" alt="network-logo" width="230" height="70" />
                <p>
                  find your part-time jobs form
                </p>
                <p>สำหรับบริษัท</p>
            </div>
            <div class="block-info text-form ">
                <form style="text-align: left;" action="/findworker/postjob" method="POST" enctype="multipart/form-data">
                    <div class="">
                        <div class="topic">
                            <p><i class="far fa-building"></i> ส่วนที่ 1 : ข้อมูลบริษัทห้างร้าน </p>
                            <div class="line"></div>
                        </div>
                        <input type="hidden" name="username" value="<%= currentUser.username %>">
                        <div class="form-row">
                            <div class="form-group   col-xs-8 col-sm-8 col-md-8 col-lg-5">
                                <label id="head" for="uploadimage">อัพโหลดรูป</label>
                                <input type="file" class="form-control-file"  name="image">
                            </div>
                            <div class="col-xs-6 col-sm-12 col-md-6 col-lg-7">
                                <label id="head" for="inputname">ชื่อบริษัท/ห้างร้าน</label>
                                <input type="text" class="form-control" name="companyname" value="" required>
                            </div>
                        </div>
                        <div class="topic">
                            <p><i class="fas fa-address-card"></i>ส่วนที่ 2 : ข้อมูลงาน</p>
                            <div class="line"></div> 
                        </div>
                        <div class="form-select">
                           <label id="head" for="selectTypejob">ประเภทงานที่ต้องการรับสมัคร</label>
                           <select class="form-control" name="jobtype" required>
                            <option></option>
                            <option value="งานบ้าน">งานบ้าน</option>
                            <option value="งานครัว">งานครัว</option>
                            <option value="งานช่าง">งานช่าง</option>
                            <option value="งานพี่เลี้ยงเด็ก">งานพี่เลี้ยงเด็ก</option>
                            <option value="งานสอนหนังสือ">งานสอนหนังสือ</option>
                            <option value="งานขาย">งานขาย</option>
                            <option value="งานบริการลูกค้า">งานบริการลูกค้า</option>
                            <option value="งานคลังสินค้า">งานคลังสินค้า</option>
                            <option value="งานธุรการ">งานธุรการ</option>
                            <option value="งานแคชเชียร์">งานแคชเชียร์</option>
                            <option value="งานส่งสินค้า">งานส่งสินค้า</option>
                            <option value="งานขับรถ">งานขับรถ</option>
                            <option value="งานบัญชีและการเงิน">งานบัญชีและการเงิน</option>
                            <option value="งานจัดซื้อ">งานจัดซื้อ</option>
                            <option value="งานก่อสร้าง">งานก่อสร้าง</option>
                            <option value="งานทำความสะอาด">งานทำความสะอาด</option>
                            <option value="งานตัวแทนจำหน่าย">งานตัวแทนจำหน่าย</option>
                            <option value="งานบริการความงาม">งานบริการความงาม</option>
                            <option value="งานรักษาความปลอดภัย">งานรักษาความปลอดภัย</option>
                            <option value="งานถ่ายภาพ">งานถ่ายภาพ</option>
                            <option value="อื่น...">อื่น...</option>
                        </select><br>
                        <label id="head" for="selectEmployment">ลักษณะการว่าจ้าง</label>
                        <select class="form-control" name="employmenttype"required>
                            <option></option>
                                <option >Part time</option>
                                <option >Full time</option>
                                <option >Event</option>
                        </select>
                        </div><br>
                        <div class="form-row">
                            <div class="form-group col-lg-6">
                                <label id="head" for="inputposition">ตำแหน่งงาน</label>
                                <input type="text" class="form-control" name="jobpos" placeholder="">
                            </div>
                            <div class=" form-group col-lg-6">
                                <label id="head" for="selectTypejob">ค่าแรง</label>
                                <select class="form-control" name="salary" required>
                                    <option></option>
                                    <option value="น้อยกว่า 10000 บาท"> น้อยกว่า 10000 บาท</option>
                                    <option value="10000-20000 บาท"> 10000-20000 บาท</option>
                                    <option value="20000-30000 บาท"> 20000-30000 บาท</option>
                                    <option value="30000-40000 บาท"> 30000-40000 บาท</option>
                                    <option value="40000-50000 บาท"> 40000-50000 บาท</option>
                                    <option value="50000 บาทขึ้นไป"> 50000 บาทขึ้นไป</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <br>
                                <label id="head" for="inputDate">ช่วงเวลาทำงาน</label>
                              </div>
                            <div class="form-group col-md-4">
                                <label id="head" for="inputTime">ตั้งแต่</label>
                                <input type="time" class="form-control" id="inputTime" name="starttime" required/>
                            </div>
                            <div class="form-group col-md-4">
                                <label id="head" for="inputTime">ถึง</label>
                                <input type="time" class="form-control" id="inputTime" name="finishtime" required/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="head" for="inputQualifications">คุณสมบัติของผู้สมัครงาน</label>
                            <textarea type="text" class="form-control" id="Textarea" rows="4" name="qualti" placeholder="พูดได้กี่ภาษา, พิมพ์ได้กี่คำต่อนาที เป็นต้น" required></textarea>
                        </div>
                        <div class="form-group">
                            <label id="head" for="udloadResume">อัพโหลดเอกสารประกอบการสมัคร/เอกสารรายละเอียดเกณฑ์การรับสมัคร</label>
                            <input type="file" class="form-control-file" id="fileapp" name="file" required>
                        </div>
                        <div class="topic">
                            <p><i class="fas fa-phone-alt"></i>ส่วนที่ 3 : ข้อมูลการติดต่อ</p>
                            <div class="line"></div>
                        </div>
                        <div class="form-group ">
                            <label id="head" for="inputContact">ช่องทางการติดต่อบริษัท/ห้างร้าน</label>
                            <textarea  type="text"  class="form-control" id="Textarea" rows="4" name="contact" placeholder="Facebook,Email,line,เบอร์โทรศัพท์"></textarea>
                        </div>

                        <div class="mapbody form-control">
                            <div id="map"></div>
                            <div id="searchplace">
                                <label for=""> ค้นหาสถานที่</label>
                              <input id ="search">
                              <div id ="suggest"></div>
                              
                              <div id="result"></div>
                            </div>
                            <a class="btn btn-success btn-search" id="button" onclick="doSearch()">บันทึก</a>
                        </div><br>
                        <div>
                            <label >สถานที่ตั้งบริษัท/ร้านตามแผนที่   : </label>
                            <label id="locate"> </locate>
                        </div>
                                          
                        <!-- <div class="mapbody form-control">
                            <div id="map"></div>
                            <div id="searchplace">
                              <input id ="search">
                              <div id ="suggest"></div>
                              <a class="btn btn-primary mb-2" onclick="doSearch()">บันทึก</a>
                              <div id="result"></div>
                            </div>
                            </div>
                        <div><br>
                            <label id="head" >สถานที่ตั้งบริษัท/ร้านตามแผนที่   : </label>
                            <label  style="width: 70%;" id="locate"> </locate>
                                <a id="test"></a>
                        </div>
                        -->
                        <div>
                            <input type="hidden"  id="lon" name="lon" value="">
                            <input type="hidden"  id="lat" name="lat" value="">
                            <input type="hidden"  id="country" name="country" value="">
                            <input type="hidden"  id="district" name="district" value="">
                            <input type="hidden"  id="subdistrict" name="subdistrict" value="">
                            <input type="hidden"  id="province" name="province" value="">
                            <input type="hidden"  id="postcode" name="postcode" value="">
                            <input type="hidden"  id="aoi" name="aoi" value="">
                        </div>   
                        
                        <div class="topic">
                            <p><i class="fas fa-tasks"></i>ส่วนที่ 4 : </p>
                            <div class="line"></div>
                        </div>
                        <div class="form-check " class="mb-4">
                            <div class="check1">
                                <input type="checkbox" class="form-check-input" required>
                                <label class="form-check-label" for="Check">ฉันขอยืนยัน นอนยัน นั่งยันว่าข้อมูลทั้งหมดเป็นความจริงและยินยอมให้เปิดเผยข้อมูลนี้</label> 
                            </div>
                            <div class="check2">
                                <input type="checkbox" class="form-check-input" required>
                                <label class="form-check-label" for="Check2">ฉันได้อ่านและยอมรับ <a href="">เงื่อนไขและข้อตกลงในการใช้บริการเว็ปไซต์</a></label>
                            </div>
                        </div>
                        <div class="" align ="center">
                            <button type="submit" class="btn btn-primary mb-2">SUBMIT</button>
                            <!-- <button type="submit" class="btn btn-success col-xs-4 col-sm-4 col-lg-6 btn-submit">ส่งข้อมูล</button> -->
                        </div>
                    
                    </div>   
                </form>
            </div>
        </div>
    </div> 
    <!-- <div class="wave-container">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0099ff" 
            fill-opacity="1" d="M0,128L48,144C96,160,192,192,288,181.3C384,171,480,117,576,96C672,75,768,85,864,106.7C960,128,1056,160,1152,160C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
        </div> -->

<%- include("../partials/footer")%>

<style>
    html {
      height: 100%;
    }
    body {
      margin: 0px;
      height: 100%;
    }
    .mapbody {
        margin: 0px;
        height: 100%;
        display: flex;
        flex-direction: row;
    }
    #map {
      height: 400px;
      flex: 5;
    }
    #searchplace{
        flex : 4;
    }

    #button{
        flex : 1;
        height: 100%;
    }

    #result {
        height: 400px;
        overflow-y: scroll;
    }
    #suggest {
        position: absolute;
        display: none;
        background-color: white;
        border: 1px solid #000000;
        padding: 4px;
        flex-direction: column;
    }
</style>